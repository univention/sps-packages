#!/bin/sh
# postinst script for sps-portal
#
# see: dh_installdeb(1)
#
# Copyright (C) 2021 Univention GmbH
#
# http://www.univention.de/
#
# All rights reserved.
#
# The source code of the software contained in this package
# as well as the source package itself are made available
# under the terms of the GNU Affero General Public License version 3
# (GNU AGPL V3) as published by the Free Software Foundation.
#
# Binary versions of this package provided by Univention to you as
# well as other copyrighted, protected or trademarked materials like
# Logos, graphics, fonts, specific documentations and configurations,
# cryptographic keys etc. are subject to a license agreement between
# you and Univention and not subject to the GNU AGPL V3.
#
# In the case you use the software under the terms of the GNU AGPL V3,
# the program is provided in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public
# License with the Debian GNU/Linux or Univention distribution in file
# /usr/share/common-licenses/AGPL-3; if not, see
# <http://www.gnu.org/licenses/>.


#DEBHELPER#
base="$(/usr/sbin/ucr get ldap/base)"

/usr/sbin/udm settings/portal_entry remove --ignore_not_exists --dn "cn=univentionblog,cn=portal,cn=univention,$base"
/usr/sbin/udm settings/portal_entry remove --ignore_not_exists --dn "cn=ox_app_suite_login,cn=portal,cn=univention,$base"
/usr/sbin/udm settings/portal_entry remove --ignore_not_exists --dn "cn=nextcloud,cn=portal,cn=univention,$base"

tempfile=$(mktemp)
cat <<__EOT >"$tempfile"
dn: cn=domain,cn=portal,cn=univention,$base
changetype: modify
replace: univentionPortalBackground
univentionPortalBackground: $(base64 /usr/share/univention-sps/sps-background.png | tr -d '\n')
__EOT

ldapmodify -x -D "cn=admin,$base" -y /etc/ldap.secret -f "$tempfile"

/usr/sbin/udm settings/portal_entry create --ignore_exists \
	--position "cn=portal,cn=univention,$base" \
	--set name="Mail" \
	--set portal="cn=domain,cn=portal,cn=univention,$base" \
	--set link="/appsuite/#!!&app=io.ox/mail" \
	--append description="de_DE Mail" \
	--append description="en_US Mail" \
	--append displayName="de_DE Mail" \
	--append displayName="en_US Mail" \
#TODO 	--set icon=""


/usr/sbin/udm settings/portal_entry create --ignore_exists \
	--position "cn=portal,cn=univention,$base" \
	--set name="Kontakte" \
	--set portal="cn=domain,cn=portal,cn=univention,$base" \
	--set link="/appsuite/#!!&app=io.ox/contacts" \
	--append description='de_DE "Zugriff auf das persönliche Adressbuch"' \
	--append description="en_US Contacts" \
	--append displayName="de_DE Kontakte" \
	--append displayName="en_US Contacts" \
#TODO 	--set icon=""

/usr/sbin/udm settings/portal_entry create --ignore_exists \
	--position "cn=portal,cn=univention,$base" \
	--set name="Kalender" \
	--set portal="cn=domain,cn=portal,cn=univention,$base" \
	--set link="/appsuite/#!!&app=io.ox/calendar" \
	--append description='de_DE "Zugriff auf den persönlichen Kalender"' \
	--append description="en_US Calendar" \
	--append displayName="de_DE Kalender" \
	--append displayName="en_US Calendar" \
#TODO 	--set icon=""

/usr/sbin/udm settings/portal_entry create --ignore_exists \
	--position "cn=portal,cn=univention,$base" \
	--set name="Videokonferenzen" \
	--set portal="cn=domain,cn=portal,cn=univention,$base" \
	--set link="/nextcloud/apps/spreed/" \
	--append description='de_DE "Zugang zu einem Tool für Videokonferenzen und Chat"' \
	--append description='en_US "Video Conferencing and Chat"' \
	--append displayName='de_DE "Videokonferenzen und Chat"' \
	--append displayName='en_US "Video Conferencing and Chat"' \
	--set icon='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UmVhZHlxyWU8AAADgWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmI0ZGI1ZGVkLWFiZmItNGU0OS04NjhiLWQ4ODE4YzljMWM2ZSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RTlFODYzNDYwOEExMUVCODY3NDhFRDNEREE2NEIyNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RTlFODYzMzYwOEExMUVCODY3NDhFRDNEREE2NEIyNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMCAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OWQ1YjQ3OC1lZTA4LWVmNDItODk4OS01YTE5NmM0MzVmYmIiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZDljMThmNy0yMzk0LTdiNGUtYTRiZS1hMzMzMjU5NWRhM2IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBh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'

/usr/sbin/udm settings/portal_entry create --ignore_exists \
	--position "cn=portal,cn=univention,$base" \
	--set name="Online-Dateisynchronisation und -freigabe" \
	--set portal="cn=domain,cn=portal,cn=univention,$base" \
	--set link="/nextcloud/apps/files/" \
	--append description='de_DE "Zugriff auf die Dateisynchronisation und -freigabe"' \
	--append description='en_US "File Share and Synchronisation"' \
	--append displayName='de_DE "Online-Dateisynchronisation und -freigabe"' \
	--append displayName='en_US "File Share and Synchronistaion"' \
	--set icon='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UmVhZHlxyWU8AAADgWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmI0ZGI1ZGVkLWFiZmItNGU0OS04NjhiLWQ4ODE4YzljMWM2ZSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2NTIxRUQxRjYwOEExMUVCQTg4MEM0RkQ0M0RDQTcwQSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NTIxRUQxRTYwOEExMUVCQTg4MEM0RkQ0M0RDQTcwQSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMCAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OWQ1YjQ3OC1lZTA4LWVmNDItODk4OS01YTE5NmM0MzVmYmIiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZDljMThmNy0yMzk0LTdiNGUtYTRiZS1hMzMzMjU5NWRhM2IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBh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'

systemctl restart univention-portal-server

exit 0
